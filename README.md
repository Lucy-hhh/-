# 农遗文化微信小程序

这是将原有HTML网页项目转换为微信小程序格式的完整项目。

## 项目结构

```
miniprogram/
├── app.json              # 小程序全局配置
├── app.js                # 小程序全局逻辑
├── app.wxss              # 小程序全局样式
├── project.config.json    # 项目配置文件
├── sitemap.json          # 站点地图配置
├── pages/                # 页面目录
│   ├── login/           # 登录页面
│   ├── index/           # 首页
│   ├── ar/              # AR场景页面
│   ├── shop/            # 商城页面
│   ├── product-detail/  # 商品详情页
│   ├── travel/          # 旅游路线页面
│   ├── travel-detail/   # 旅游详情页
│   ├── baike-detail/    # 百科详情页
│   └── profile/         # 我的页面
└── utils/               # 工具函数目录
    ├── storage.js       # 存储工具
    └── cart.js         # 购物车和订单管理工具
```

## 功能特性

### 1. 登录功能
- 手机号验证码登录（演示模式）
- 微信一键登录（演示模式）
- 登录状态管理

### 2. 首页
- Banner轮播图
- 快捷功能区（AR场景、商城、旅游、我的）
- 农遗百科内容展示
- 热门推荐内容

### 3. AR场景
- 场景选择界面
- 场景切换功能
- 地图展示（需要配置地图组件）

### 4. 商城
- 商品分类展示
- 商品列表展示
- 商品详情页
- 购物车功能（使用小程序存储）

### 5. 旅游路线
- 路线列表展示
- 路线详情页

### 6. 我的
- 用户信息展示
- 数据统计
- 订单管理
- 功能导航（收藏、行程、设置、客服）

### 7. 百科详情
- 农遗百科内容展示
- 详细信息展示

## 使用方法

### 1. 配置小程序

1. 使用微信开发者工具打开 `miniprogram` 目录
2. 在 `project.config.json` 中配置你的 AppID
3. 在微信公众平台配置合法域名（开发阶段可在详情中勾选"不校验合法域名"）

### 2. 运行项目

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择 `miniprogram` 目录
4. 点击"编译"按钮

### 3. 登录流程

1. 打开小程序，进入登录页面
2. 输入手机号（任意11位数字）
3. 点击"获取验证码"（演示模式）
4. 输入验证码（任意6位数字）
5. 点击"登录"按钮
6. 自动跳转到首页

## 技术说明

### 页面路由
- TabBar页面使用 `wx.switchTab` 跳转
- 普通页面使用 `wx.navigateTo` 跳转
- 返回使用 `wx.navigateBack`

### 数据存储
- 使用 `wx.getStorageSync` 和 `wx.setStorageSync` 进行本地存储
- 存储的数据包括：登录状态、购物车、订单、收藏等

### 样式单位
- 使用 `rpx` 单位实现响应式布局
- 1rpx = 屏幕宽度 / 750

### 图标处理
- 使用 emoji 图标替代 Font Awesome
- 也可以使用小程序 icon 组件或本地图片

## 注意事项

1. **网络图片**：小程序中使用网络图片需要配置合法域名，开发阶段可在详情中勾选"不校验合法域名"

2. **地图功能**：AR场景页面的地图功能需要配置地图组件，当前为占位符

3. **支付功能**：商品购买和支付功能为演示模式，实际需要对接真实的支付接口

4. **登录功能**：当前登录功能为演示模式，实际需要对接真实的登录接口

5. **TabBar图标**：需要在 `images` 目录下放置对应的图标文件，或使用小程序内置图标

## 后续开发建议

1. 连接后端 API，实现真实的登录验证和数据处理
2. 配置地图组件，实现真实的地图功能
3. 对接支付接口，实现真实的支付功能
4. 优化图片资源，将网络图片下载到本地或使用CDN
5. 添加页面加载动画和错误处理
6. 实现数据持久化（商品、订单等）

## 文件说明

### 核心文件
- `app.json`：小程序全局配置，包括页面路径、tabBar配置等
- `app.js`：小程序全局逻辑，包括登录状态检查、存储初始化等
- `app.wxss`：小程序全局样式，包括通用样式和主题色定义

### 工具文件
- `utils/storage.js`：存储工具函数
- `utils/cart.js`：购物车和订单管理工具

### 页面文件
每个页面包含4个文件：
- `.wxml`：页面结构
- `.wxss`：页面样式
- `.js`：页面逻辑
- `.json`：页面配置

## 转换说明

本项目从HTML网页项目完整转换为微信小程序格式，主要转换内容包括：

1. HTML → WXML：将HTML标签转换为小程序组件
2. CSS → WXSS：将CSS样式转换为WXSS，使用rpx单位
3. JavaScript → 小程序JS：将浏览器API转换为小程序API
4. 路由系统：使用小程序页面路由API
5. 存储系统：将localStorage替换为wx.setStorage
6. 图标系统：Font Awesome图标替换为emoji或小程序组件

