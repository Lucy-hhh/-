<!--pages/profile/profile.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <text class="nav-title">æˆ‘çš„</text>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content-area">
    <!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->
    <view class="user-card">
      <view class="user-info">
        <image class="user-avatar" src="https://ai-public.mastergo.com/ai/img_res/5ed97403e8f4d8c0db8650f0d4ca4c55.jpg" mode="aspectFill"></image>
        <view class="user-details">
          <text class="user-name">å¼ æ˜è½©</text>
          <text class="user-phone">ğŸ“± 138 **** 8921</text>
        </view>
        <view class="user-actions">
          <button class="edit-btn" bindtap="showEditProfile">ç¼–è¾‘èµ„æ–™</button>
          <button class="logout-btn" bindtap="handleLogout">é€€å‡ºç™»å½•</button>
        </view>
      </view>
    </view>

    <!-- æ•°æ®ç»Ÿè®¡å¡ç‰‡ -->
    <view class="data-card">
      <text class="card-title">ğŸ“Š æˆ‘çš„æ•°æ®</text>
      <view class="stats-grid">
        <view class="stat-item" bindtap="showScenes">
          <text class="stat-number">{{sceneCount}}</text>
          <text class="stat-label">ä½“éªŒåœºæ™¯</text>
        </view>
        <view class="stat-item" bindtap="showFavorites">
          <text class="stat-number">{{favoriteCount}}</text>
          <text class="stat-label">æ”¶è—å•†å“</text>
        </view>
        <view class="stat-item" bindtap="showAllOrders">
          <text class="stat-number">{{orderCount}}</text>
          <text class="stat-label">å®Œæˆè®¢å•</text>
        </view>
      </view>
    </view>

    <!-- è®¢å•ç®¡ç† -->
    <view class="order-card">
      <view class="card-header">
        <text class="card-title">ğŸ“¦ æˆ‘çš„è®¢å•</text>
        <text class="view-all" bindtap="showAllOrders">æŸ¥çœ‹å…¨éƒ¨ â†’</text>
      </view>
      <view class="order-tabs">
        <view class="order-tab" bindtap="showOrdersByStatus" data-status="pending_payment">
          <view class="tab-icon-wrapper">
            <text class="tab-icon">ğŸ’³</text>
            <view class="tab-badge" wx:if="{{orderStats.pending_payment > 0}}">{{orderStats.pending_payment}}</view>
          </view>
          <text class="tab-label">å¾…ä»˜æ¬¾</text>
          <text class="tab-count">{{orderStats.pending_payment}}</text>
        </view>
        <view class="order-tab" bindtap="showOrdersByStatus" data-status="pending_shipment">
          <view class="tab-icon-wrapper">
            <text class="tab-icon">ğŸšš</text>
            <view class="tab-badge" wx:if="{{orderStats.pending_shipment > 0}}">{{orderStats.pending_shipment}}</view>
          </view>
          <text class="tab-label">å¾…å‘è´§</text>
          <text class="tab-count">{{orderStats.pending_shipment}}</text>
        </view>
        <view class="order-tab" bindtap="showOrdersByStatus" data-status="pending_receive">
          <view class="tab-icon-wrapper">
            <text class="tab-icon">ğŸ“¦</text>
            <view class="tab-badge" wx:if="{{orderStats.pending_receive > 0}}">{{orderStats.pending_receive}}</view>
          </view>
          <text class="tab-label">å¾…æ”¶è´§</text>
          <text class="tab-count">{{orderStats.pending_receive}}</text>
        </view>
        <view class="order-tab" bindtap="showOrdersByStatus" data-status="completed">
          <view class="tab-icon-wrapper">
            <text class="tab-icon">â­</text>
          </view>
          <text class="tab-label">å¾…è¯„ä»·</text>
          <text class="tab-count">{{orderStats.completed}}</text>
        </view>
      </view>
    </view>

    <!-- åŠŸèƒ½å¯¼èˆªåŒºåŸŸ -->
    <view class="function-card">
      <view class="function-item" bindtap="showFavorites">
        <view class="function-left">
          <text class="function-icon">â¤ï¸</text>
          <text class="function-text">æˆ‘çš„æ”¶è—</text>
        </view>
        <text class="function-arrow">></text>
      </view>
      <view class="function-item" bindtap="showItinerary">
        <view class="function-left">
          <text class="function-icon">ğŸ—ºï¸</text>
          <text class="function-text">æˆ‘çš„è¡Œç¨‹</text>
        </view>
        <text class="function-arrow">></text>
      </view>
      <view class="function-item" bindtap="showSettings">
        <view class="function-left">
          <text class="function-icon">âš™ï¸</text>
          <text class="function-text">è®¾ç½®</text>
        </view>
        <text class="function-arrow">></text>
      </view>
      <view class="function-item" bindtap="showCustomerService">
        <view class="function-left">
          <text class="function-icon">ğŸ§</text>
          <text class="function-text">å®¢æœä¸­å¿ƒ</text>
        </view>
        <text class="function-arrow">></text>
      </view>
    </view>
  </view>
</view>

